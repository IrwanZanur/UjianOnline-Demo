
<!DOCTYPE html>
<html>
<head>
  <title>Login Ujian</title>
  <meta charset="UTF-8">
</head>
<body>
  <h2>Login Ujian</h2>
  <form id="loginForm">
    <label>NIS:</label><br>
    <input type="text" id="nis" required><br>
    <label>Token:</label><br>
    <input type="text" id="token" required><br><br>
    <button type="submit">Login</button>
  </form>

  <p id="status" style="color: red;"></p>

  <script>
    document.getElementById('loginForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const nis = document.getElementById('nis').value.trim();
      const token = document.getElementById('token').value.trim();
      const status = document.getElementById('status');
      
      fetch(`https://script.google.com/macros/s/AKfycbwYAUC1xDdSBNe8JDOQk8p-TlWNyRgQNbXHtfbREW_FiYkNOsBUPduHCBRO8jW5uNIX/exec?nis=${nis}&token=${token}`)
        .then(res => res.text())
        .then(result => {
          if (result === "VALID") {
            // Redirect ke halaman form ujian jika token valid
            window.location.href = "https://docs.google.com/forms/d/e/1FAIpQLSchV-Q5jvtlv74NeX5gEi-8Y-LZcLhfOvQm4mZmK1TEHKTQBQ/viewform";
          } else {
            status.textContent = "Token salah atau sudah kedaluwarsa.";
          }
        })
        .catch(err => {
          status.textContent = "Terjadi kesalahan jaringan.";
          console.error(err);
        });
    });
  </script>
</body>
</html>
